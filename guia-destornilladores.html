<!DOCTYPE html>
<html lang="es" itemscope itemtype="https://schema.org/WebPage">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Apple Format Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Guía Destornilladores">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
  
  <title>🔧 Guía Completa de Destornilladores 2025 - Tipos y Mejores Sets | BricoExpertos</title>
  <meta name="description" content="🔥 Guía definitiva sobre destornilladores: Phillips, planos, Torx, sets completos y mejores marcas. ¡Elige el kit perfecto!" />
  <meta name="keywords" content="destornilladores, Phillips, plano, Torx, set destornilladores, Wera, Stanley, mejores destornilladores" />
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FGY8WKCEQJ"></script>
  <script src="analytics.js"></script>
  
  <link rel="stylesheet" href="styles.css">

  <!-- CSS Específico para Cookies - Inline para evitar cache -->
  <style>
    /* Banner de cookies - forzar estilos móvil con máxima especificidad */
    body #cookie-banner.cookie-banner {
      position: fixed !important;
      bottom: 0 !important;
      left: 0 !important;
      right: 0 !important;
      width: 100% !important;
      background: #1e293b !important;
      color: white !important;
      z-index: 99999 !important;
      transform: translateY(100%) !important;
      transition: transform 0.3s ease !important;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3) !important;
      max-height: none !important;
      padding: 0 !important;
      margin: 0 !important;
      border: none !important;
      border-radius: 0 !important;
      font-family: inherit !important;
    }
    
    body #cookie-banner.cookie-banner.show {
      transform: translateY(0) !important;
    }
    
    body #cookie-banner.cookie-banner .cookie-banner-content {
      max-width: 1200px !important;
      margin: 0 auto !important;
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      gap: 1rem !important;
      padding: 1rem !important;
      box-sizing: border-box !important;
    }
    
    body #cookie-banner.cookie-banner .cookie-banner-text {
      flex: 1 !important;
      font-size: 0.875rem !important;
      line-height: 1.5 !important;
    }
    
    body #cookie-banner.cookie-banner .cookie-banner-text p {
      margin: 0 0 0.5rem 0 !important;
    }
    
    body #cookie-banner.cookie-banner .cookie-banner-text p:last-child {
      margin-bottom: 0 !important;
    }
    
    body #cookie-banner.cookie-banner .cookie-banner-actions {
      display: flex !important;
      gap: 0.75rem !important;
      flex-shrink: 0 !important;
    }
    
    body #cookie-banner.cookie-banner .cookie-btn {
      padding: 0.5rem 1rem !important;
      border: none !important;
      border-radius: 0.5rem !important;
      font-size: 0.875rem !important;
      font-weight: 500 !important;
      cursor: pointer !important;
      transition: all 0.3s ease !important;
      white-space: nowrap !important;
      box-sizing: border-box !important;
    }
    
    .cookie-btn-accept {
      background: #3b82f6 !important;
      color: white !important;
    }
    
    .cookie-btn-decline {
      background: transparent !important;
      color: white !important;
      border: 1px solid #64748b !important;
    }
    
    .cookie-btn-settings {
      background: transparent !important;
      color: #94a3b8 !important;
      border: 1px solid #64748b !important;
    }
    
    /* Móvil: menos de 768px */
    @media screen and (max-width: 768px) {
      body #cookie-banner.cookie-banner {
        padding: 0.75rem 0 !important;
        max-height: 40vh !important;
        overflow-y: auto !important;
        width: 100vw !important;
        left: 0 !important;
        right: 0 !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-banner-content {
        flex-direction: column !important;
        align-items: center !important;
        text-align: center !important;
        gap: 0.75rem !important;
        padding: 0 0.75rem !important;
        max-width: 100% !important;
        width: 100% !important;
        box-sizing: border-box !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-banner-text {
        font-size: 0.8rem !important;
        line-height: 1.3 !important;
        width: 100% !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-banner-actions {
        justify-content: center !important;
        flex-wrap: wrap !important;
        gap: 0.4rem !important;
        width: 100% !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-btn {
        flex: 0 0 auto !important;
        min-width: 80px !important;
        max-width: 110px !important;
        padding: 0.5rem 0.6rem !important;
        font-size: 0.75rem !important;
      }
    }
    
    /* Móvil pequeño: menos de 480px */
    @media screen and (max-width: 480px) {
      body #cookie-banner.cookie-banner {
        padding: 0.5rem 0 !important;
        max-height: 35vh !important;
        width: 100vw !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-banner-content {
        padding: 0 0.5rem !important;
        gap: 0.5rem !important;
        max-width: 100% !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-banner-text {
        font-size: 0.75rem !important;
        line-height: 1.2 !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-banner-text p:first-child {
        font-size: 0.8rem !important;
        margin-bottom: 0.2rem !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-full-text {
        display: none !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-mobile-text {
        display: block !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-banner-actions {
        gap: 0.3rem !important;
        flex-direction: row !important;
        justify-content: space-evenly !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-btn {
        padding: 0.4rem 0.5rem !important;
        font-size: 0.7rem !important;
        min-width: 70px !important;
        max-width: 90px !important;
      }
    }
    
    /* Móvil muy pequeño: menos de 360px */
    @media screen and (max-width: 360px) {
      body #cookie-banner.cookie-banner {
        max-height: 30vh !important;
        width: 100vw !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-banner-text {
        font-size: 0.7rem !important;
      }
      
      body #cookie-banner.cookie-banner .cookie-btn {
        padding: 0.3rem 0.4rem !important;
        font-size: 0.65rem !important;
        min-width: 60px !important;
        max-width: 75px !important;
      }
    }

    /* Estilos para modal de configuración de cookies */
    .cookie-settings-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 100000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      box-sizing: border-box;
    }

    .cookie-settings-modal.show {
      display: flex;
    }

    .cookie-settings-content {
      background: white;
      border-radius: 0.5rem;
      padding: 2rem;
      max-width: 500px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .cookie-settings-header h3 {
      margin-top: 0;
      color: #1e293b;
    }

    .cookie-category {
      margin: 1.5rem 0;
      padding: 1rem;
      border: 1px solid #e2e8f0;
      border-radius: 0.5rem;
    }

    .cookie-category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .cookie-category-header h4 {
      margin: 0;
      color: #374151;
    }

    .cookie-toggle {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 24px;
    }

    .cookie-toggle input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .cookie-toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: 0.3s;
      border-radius: 24px;
    }

    .cookie-toggle-slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.3s;
      border-radius: 50%;
    }

    .cookie-toggle input:checked + .cookie-toggle-slider {
      background-color: #3b82f6;
    }

    .cookie-toggle input:checked + .cookie-toggle-slider:before {
      transform: translateX(20px);
    }

    .cookie-toggle input:disabled + .cookie-toggle-slider {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .cookie-category-description {
      font-size: 0.875rem;
      color: #6b7280;
      margin: 0;
    }

    .cookie-settings-actions {
      display: flex;
      gap: 1rem;
      justify-content: flex-end;
      margin-top: 2rem;
    }

    @media screen and (max-width: 480px) {
      .cookie-settings-content {
        padding: 1rem;
      }
      
      .cookie-settings-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <!-- Menú de navegación cargado dinámicamente -->
  <script src="menu-navegacion.js"></script>

  <!-- Hero Section - Estilo Apple -->
  <section class="hero-apple">
    <div class="container">
      <h1 class="hero-title">Guía Completa de Destornilladores</h1>
      <p class="hero-subtitle">Precisión y control para cada proyecto de bricolaje</p>
      <div class="hero-cta">
        <a href="#recomendaciones" class="btn-primary-apple">Ver recomendaciones</a>
      </div>
    </div>
  </section>

  <!-- Value Props - Metadatos del artículo -->
  <section class="values-apple">
    <div class="container">
      <div class="values-grid">
        <div class="value-card">
          <div class="value-icon">📅</div>
          <h3>Actualizado</h3>
          <p>Enero 2025</p>
        </div>
        <div class="value-card">
          <div class="value-icon">⏱️</div>
          <h3>Tiempo de lectura</h3>
          <p>8-10 minutos</p>
        </div>
        <div class="value-card">
          <div class="value-icon">🔧</div>
          <h3>Herramientas</h3>
          <p>Destornilladores</p>
        </div>
      </div>
    </div>
  </section>

  <main class="container">
    <article class="guide-content">
      <div class="guide-intro">
        <p>Los destornilladores son herramientas básicas pero esenciales. Un buen set de destornilladores de calidad te acompañará durante décadas y hará que cualquier trabajo sea más fácil y preciso.</p>
      </div>

      <!-- Tipos de Destornilladores -->
      <section class="needs-guide">
        <h2 class="section-title-apple">🔧 Tipos de Destornilladores</h2>
        
        <div class="needs-grid">
          <div class="need-card">
            <h3>🔩 Destornillador Plano</h3>
            <ul class="task-list">
              <li>Para tornillos de ranura recta</li>
              <li>Tamaños: 2.5, 3, 4, 5.5, 6.5, 8mm</li>
              <li>También útil como palanca</li>
              <li>El más básico y versátil</li>
            </ul>
            <div class="recommendation">
              <strong>Imprescindible:</strong> 4mm, 5.5mm y 6.5mm
            </div>
          </div>

          <div class="need-card">
            <h3>✚ Phillips (Cruceta)</h3>
            <ul class="task-list">
              <li>Tornillos en cruz más comunes</li>
              <li>Tamaños: PH0, PH1, PH2, PH3</li>
              <li>Mejor agarre que planos</li>
              <li>Estándar en electrónica</li>
            </ul>
            <div class="recommendation">
              <strong>Imprescindible:</strong> PH1, PH2 y PH3
            </div>
          </div>

          <div class="need-card">
            <h3>⭐ Torx</h3>
            <ul class="task-list">
              <li>Forma de estrella de 6 puntas</li>
              <li>Mayor par de apriete</li>
              <li>Común en automóviles</li>
              <li>Tamaños: T10, T15, T20, T25, T30</li>
            </ul>
            <div class="recommendation">
              <strong>Para:</strong> Automoción, electrónica moderna
            </div>
          </div>

          <div class="need-card">
            <h3>🔄 Pozidriv</h3>
            <ul class="task-list">
              <li>Mejora del Phillips</li>
              <li>4 muescas adicionales</li>
              <li>Menos deslizamiento</li>
              <li>Común en Europa</li>
            </ul>
            <div class="recommendation">
              <strong>Para:</strong> Trabajos de precisión, muebles
            </div>
          </div>

          <div class="need-card">
            <h3>🔬 Precisión</h3>
            <ul class="task-list">
              <li>Para electrónica y relojería</li>
              <li>Tamaños muy pequeños</li>
              <li>Mangos ergonómicos</li>
              <li>Set específico necesario</li>
            </ul>
            <div class="recommendation">
              <strong>Para:</strong> Reparaciones de móviles, relojes
            </div>
          </div>

          <div class="need-card">
            <h3>⚡ Aislados</h3>
            <ul class="task-list">
              <li>Protección hasta 1000V</li>
              <li>Obligatorios para electricidad</li>
              <li>Certificación VDE</li>
              <li>Mango especial aislante</li>
            </ul>
            <div class="recommendation">
              <strong>Obligatorio:</strong> Trabajos eléctricos
            </div>
          </div>
        </div>
      </section>

      <!-- Características de Calidad -->
      <section class="tech-specs">
        <h2 class="section-title-apple">⚙️ Características de Calidad</h2>
        
        <div class="spec-list">
          <div class="spec-item">
            <h4>🔩 Punta</h4>
            <ul>
              <li><strong>Acero S2 o CRV:</strong> Máxima dureza sin fragilidad</li>
              <li><strong>Punta magnética:</strong> Sostiene los tornillos</li>
              <li><strong>Ajuste perfecto:</strong> Sin holguras en el tornillo</li>
              <li><strong>Tratamiento térmico:</strong> Evita desgaste prematuro</li>
            </ul>
          </div>

          <div class="spec-item">
            <h4>🤏 Mango</h4>
            <ul>
              <li><strong>Ergonómico:</strong> Reduce fatiga en uso prolongado</li>
              <li><strong>Antideslizante:</strong> Material rugoso o estriado</li>
              <li><strong>Tamaño adecuado:</strong> Proporcional al esfuerzo necesario</li>
              <li><strong>Identificación:</strong> Marcado claro del tipo y tamaño</li>
            </ul>
          </div>

          <div class="spec-item">
            <h4>📏 Vástago</h4>
            <ul>
              <li><strong>Una sola pieza:</strong> Punta y vástago forjados juntos</li>
              <li><strong>Longitud adecuada:</strong> Según el uso previsto</li>
              <li><strong>Cromado:</strong> Protección contra oxidación</li>
              <li><strong>Sección redonda:</strong> Mejor que hexagonal para precisión</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Sets Recomendados -->
      <section class="drill-bits-section" id="recomendaciones">
        <h2 class="section-title-apple">🏆 Mejores Sets de Destornilladores</h2>
        
        <div class="bits-grid">
          <div class="bit-card">
            <h4>🥇 WERA Juego de destornilladores</h4>
            <ul class="bit-features">
              <li>6 piezas esenciales</li>
              <li>Calidad alemana premium</li>
              <li>Mango Kraftform ergonómico</li>
              <li>Precio: ~50€</li>
            </ul>
            <div class="examples"><strong>Para:</strong> Uso profesional, máxima calidad</div>
            <a href="https://amzn.to/4kQKDr7" target="_blank" class="btn btn-amazon" rel="nofollow">
              <span class="icon">🛒</span> Ver en Amazon
            </a>
          </div>

          <div class="bit-card">
            <h4>🥈 Stanley FatMax 14 piezas</h4>
            <ul class="bit-features">
              <li>Set completo básico</li>
              <li>Excelente relación calidad-precio</li>
              <li>Mangos bimaterial</li>
              <li>Precio: ~30€</li>
            </ul>
            <div class="examples"><strong>Para:</strong> Uso doméstico completo</div>
            <a href="https://amzn.to/445Sue6" target="_blank" class="btn btn-amazon" rel="nofollow">
              <span class="icon">🛒</span> Ver en Amazon
            </a>
          </div>

          <div class="bit-card">
            <h4>🥉 Bahco BE-9881. 6 piezas</h4>
            <ul class="bit-features">
              <li>6 piezas calidad profesional</li>
              <li>Puntas magnéticas</li>
              <li>Construcción sueca robusta</li>
              <li>Precio: ~21€</li>
            </ul>
            <div class="examples"><strong>Para:</strong> Usuario exigente</div>
            <a href="https://amzn.to/4jBXNGN" target="_blank" class="btn btn-amazon" rel="nofollow">
              <span class="icon">🛒</span> Ver en Amazon
            </a>
          </div>
        </div>
      </section>

      <!-- Set Básico Recomendado -->
      <section class="advanced-tips">
        <h2 class="section-title-apple">📦 Set Básico Imprescindible</h2>
        <div class="needs-grid">
          <div class="need-card">
            <h3>🏠 Para Casa (8 piezas)</h3>
            <ul class="task-list">
              <li>Planos: 4mm, 5.5mm, 6.5mm</li>
              <li>Phillips: PH1, PH2, PH3</li>
              <li>Torx: T20, T25</li>
              <li>Con este set cubres el 90% de necesidades</li>
            </ul>
          </div>
          
          <div class="need-card">
            <h3>🔧 Para Taller (15 piezas)</h3>
            <ul class="task-list">
              <li>Planos: 2.5, 3, 4, 5.5, 6.5, 8mm</li>
              <li>Phillips: PH0, PH1, PH2, PH3</li>
              <li>Torx: T10, T15, T20, T25, T30</li>
              <li>Set completo profesional</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Consejos de Uso -->
      <section class="quick-tips">
        <h2 class="section-title-apple">💡 Consejos de Uso y Mantenimiento</h2>
        <div class="quick-tips-list">
          <ul>
            <li>📏 <strong>Tamaño correcto:</strong> Usa siempre el destornillador del tamaño exacto</li>
            <li>👊 <strong>Presión firme:</strong> Presiona hacia abajo mientras giras</li>
            <li>🧽 <strong>Limpieza:</strong> Mantén las puntas libres de grasa y suciedad</li>
            <li>🚫 <strong>Nunca como palanca:</strong> No uses destornilladores como palancas</li>
            <li>🔨 <strong>No golpear:</strong> Nunca golpees un destornillador con martillo</li>
            <li>📋 <strong>Organización:</strong> Usa un soporte para tenerlos ordenados</li>
          </ul>
        </div>
      </section>

      <!-- Resumen Final -->
      <section class="summary-box">
        <h2 class="section-title-apple">✅ Recomendación Final</h2>
        <p>Para la mayoría de usuarios, un <strong>set de 8-10 destornilladores de buena calidad</strong> cubrirá todas las necesidades durante años.</p>
        
        <div class="pro-tip">
          <strong>🔥 Consejo profesional:</strong> Es mejor tener pocos destornilladores de excelente calidad que muchos baratos que se desgastan rápidamente.
        </div>
      </section>
    </article>
  </main>

  <div id="footer-container"></div>
  <script>
    fetch('footer.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('footer-container').innerHTML = html;
        // Inicializar el toggle del footer
        setTimeout(() => {
        }, 200);
      });
  </script>

  <!-- Banner de Cookies GDPR -->
  <div id="cookie-banner" class="cookie-banner">
    <div class="cookie-banner-content">
      <div class="cookie-banner-text">
        <p><strong>🍪 Utilizamos cookies para mejorar tu experiencia</strong></p>
        <p class="cookie-full-text">Utilizamos cookies propias y de terceros para análisis, publicidad personalizada y funcionamiento de la web. <a href="privacidad.html">Política de Privacidad</a></p>
        <p class="cookie-mobile-text" style="display: none;">Usamos cookies para análisis y personalización. <a href="privacidad.html">Más info</a></p>
      </div>
      <div class="cookie-banner-actions">
        <button class="cookie-btn cookie-btn-decline" id="cookie-decline">Rechazar</button>
        <button class="cookie-btn cookie-btn-settings" id="cookie-settings">Configurar</button>
        <button class="cookie-btn cookie-btn-accept" id="cookie-accept">Aceptar todas</button>
      </div>
    </div>
  </div>

  <!-- Modal de Configuración de Cookies -->
  <div id="cookie-settings-modal" class="cookie-settings-modal">
    <div class="cookie-settings-content">
      <div class="cookie-settings-header">
        <h3>Configuración de Cookies</h3>
        <p>Puedes configurar qué cookies quieres aceptar. Ten en cuenta que si deshabilitas algunas, tu experiencia de navegación puede verse afectada.</p>
      </div>

      <div class="cookie-category">
        <div class="cookie-category-header">
          <h4>Cookies Necesarias</h4>
          <label class="cookie-toggle">
            <input type="checkbox" id="necessary-cookies" checked disabled>
            <span class="cookie-toggle-slider"></span>
          </label>
        </div>
        <p class="cookie-category-description">
          Estas cookies son esenciales para el funcionamiento básico del sitio web y no se pueden desactivar.
        </p>
      </div>

      <div class="cookie-category">
        <div class="cookie-category-header">
          <h4>Cookies Analíticas</h4>
          <label class="cookie-toggle">
            <input type="checkbox" id="analytics-cookies">
            <span class="cookie-toggle-slider"></span>
          </label>
        </div>
        <p class="cookie-category-description">
          Nos ayudan a entender cómo los visitantes interactúan con el sitio web, recopilando información de forma anónima.
        </p>
      </div>

      <div class="cookie-category">
        <div class="cookie-category-header">
          <h4>Cookies de Marketing</h4>
          <label class="cookie-toggle">
            <input type="checkbox" id="marketing-cookies">
            <span class="cookie-toggle-slider"></span>
          </label>
        </div>
        <p class="cookie-category-description">
          Se utilizan para personalizar anuncios y contenido según tus intereses y comportamiento de navegación.
        </p>
      </div>

      <div class="cookie-settings-actions">
        <button class="cookie-btn cookie-btn-decline" id="cookie-settings-decline">Rechazar todas</button>
        <button class="cookie-btn cookie-btn-accept" id="cookie-settings-save">Guardar configuración</button>
      </div>
    </div>
  </div>

  <!-- Script inline para gestión de cookies -->
  <script>
    // Gestión de cookies GDPR
    (function() {
      const banner = document.getElementById('cookie-banner');
      const modal = document.getElementById('cookie-settings-modal');
      const acceptBtn = document.getElementById('cookie-accept');
      const declineBtn = document.getElementById('cookie-decline');
      const settingsBtn = document.getElementById('cookie-settings');
      const settingsDeclineBtn = document.getElementById('cookie-settings-decline');
      const settingsSaveBtn = document.getElementById('cookie-settings-save');

      // Función para mostrar el banner después de un breve delay
      function showBanner() {
        setTimeout(() => {
          banner.classList.add('show');
        }, 1000);
      }

      // Función para ocultar el banner
      function hideBanner() {
        banner.classList.remove('show');
      }

      // Función para mostrar/ocultar modal
      function toggleModal(show) {
        if (show) {
          modal.classList.add('show');
        } else {
          modal.classList.remove('show');
        }
      }

      // Función para guardar preferencias
      function savePreferences(analytics = false, marketing = false) {
        const preferences = {
          necessary: true,
          analytics: analytics,
          marketing: marketing,
          timestamp: Date.now()
        };
        
        localStorage.setItem('cookiePreferences', JSON.stringify(preferences));
        
        // Configurar Google Analytics según preferencias
        if (analytics && typeof gtag !== 'undefined') {
          gtag('consent', 'update', {
            'analytics_storage': 'granted'
          });
        } else if (typeof gtag !== 'undefined') {
          gtag('consent', 'update', {
            'analytics_storage': 'denied'
          });
        }
        
        hideBanner();
        toggleModal(false);
      }

      // Verificar si ya hay preferencias guardadas
      function checkExistingPreferences() {
        const saved = localStorage.getItem('cookiePreferences');
        if (saved) {
          const preferences = JSON.parse(saved);
          // Si las preferencias tienen menos de 365 días, no mostrar banner
          const oneYear = 365 * 24 * 60 * 60 * 1000;
          if (Date.now() - preferences.timestamp < oneYear) {
            // Aplicar preferencias guardadas
            if (preferences.analytics && typeof gtag !== 'undefined') {
              gtag('consent', 'update', {
                'analytics_storage': 'granted'
              });
            }
            return true;
          }
        }
        return false;
      }

      // Event listeners
      acceptBtn.addEventListener('click', () => {
        savePreferences(true, true);
      });

      declineBtn.addEventListener('click', () => {
        savePreferences(false, false);
      });

      settingsBtn.addEventListener('click', () => {
        toggleModal(true);
      });

      settingsDeclineBtn.addEventListener('click', () => {
        savePreferences(false, false);
      });

      settingsSaveBtn.addEventListener('click', () => {
        const analyticsChecked = document.getElementById('analytics-cookies').checked;
        const marketingChecked = document.getElementById('marketing-cookies').checked;
        savePreferences(analyticsChecked, marketingChecked);
      });

      // Cerrar modal al hacer clic fuera
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          toggleModal(false);
        }
      });

      // Script inline para forzar estilos móviles del banner
      function forceMobileCookieStyles() {
        const banner = document.getElementById('cookie-banner');
        if (!banner) return;

        const content = banner.querySelector('.cookie-banner-content');
        if (!content) return;

        if (window.innerWidth <= 768) {
          banner.style.width = '100vw';
          banner.style.left = '0';
          banner.style.right = '0';
          banner.style.margin = '0';
          banner.style.padding = '0.75rem 0';
          
          content.style.flexDirection = 'column';
          content.style.textAlign = 'center';
          content.style.padding = '0 0.75rem';
          content.style.maxWidth = '100%';
          content.style.width = '100%';

          const buttons = banner.querySelectorAll('.cookie-btn');
          buttons.forEach(btn => {
            btn.style.minWidth = '80px';
            btn.style.maxWidth = '110px';
            btn.style.fontSize = '0.75rem';
          });

          if (window.innerWidth <= 480) {
            banner.style.maxHeight = '35vh';
            banner.style.padding = '0.5rem 0';
            
            content.style.padding = '0 0.5rem';
            
            const fullText = banner.querySelector('.cookie-full-text');
            const mobileText = banner.querySelector('.cookie-mobile-text');
            
            if (fullText) fullText.style.display = 'none';
            if (mobileText) mobileText.style.display = 'block';

            buttons.forEach(btn => {
              btn.style.minWidth = '70px';
              btn.style.maxWidth = '90px';
              btn.style.fontSize = '0.7rem';
              btn.style.padding = '0.4rem 0.5rem';
            });
          }

          if (window.innerWidth <= 360) {
            banner.style.maxHeight = '30vh';
            
            buttons.forEach(btn => {
              btn.style.minWidth = '60px';
              btn.style.maxWidth = '75px';
              btn.style.fontSize = '0.65rem';
              btn.style.padding = '0.3rem 0.4rem';
            });
          }
        }
      }

      // Aplicar estilos al cargar y al redimensionar
      forceMobileCookieStyles();
      window.addEventListener('resize', forceMobileCookieStyles);

      // Configurar consentimiento por defecto para Google Analytics
      if (typeof gtag !== 'undefined') {
        gtag('consent', 'default', {
          'analytics_storage': 'denied',
          'ad_storage': 'denied'
        });
      }

      // Inicializar
      if (!checkExistingPreferences()) {
        showBanner();
      }
    })();
  </script>

  <script src="script.js"></script>
</body>
</html> 
