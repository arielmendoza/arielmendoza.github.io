<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Redirecci√≥n de Afiliados | BricoExpertos</title>
  <meta name="robots" content="noindex, nofollow">
  
  <!-- Estilos para la p√°gina -->
  <style>
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8f9fa; display: flex; justify-content: center; align-items: center; min-height: 100vh; text-align: center; }
    .container { padding: 2rem; }
    .card { background: white; padding: 3rem; border-radius: 16px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); max-width: 450px; width: 90%; margin: 0 auto; }
    .spinner { width: 50px; height: 50px; border: 4px solid #f3f3f3; border-top: 4px solid #007bff; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1.5rem; }
    @keyframes spin { to { transform: rotate(360deg); } }
    h1 { color: #333; margin-bottom: 1rem; font-size: 1.6rem; font-weight: 600; }
    p { color: #666; margin-bottom: 1.5rem; line-height: 1.5; }
    .product-info { background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; font-size: 1rem; color: #495057; }
    .home-link { display: inline-block; padding: 0.75rem 1.5rem; background-color: #007bff; color: white; text-decoration: none; border-radius: 6px; font-weight: 500; transition: background-color 0.3s ease; }
    .home-link:hover { background-color: #0056b3; }
    .icon { font-size: 2.5rem; margin-bottom: 1rem; }
  </style>
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FGY8WKCEQJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-FGY8WKCEQJ');
  </script>

</head>
<body>

  <div class="container">
    <div id="redirect-display" class="card" style="display: none;">
      <div class="icon">üì¶</div>
      <div class="spinner"></div>
      <h1>Redirigiendo a Amazon...</h1>
      <p>Te estamos llevando al producto seleccionado. ¬°Gracias por tu paciencia!</p>
      <div class="product-info">
        <strong>Producto:</strong> <span id="product-name"></span>
      </div>
    </div>

    <div id="not-found-display" class="card" style="display: none;">
      <div class="icon">ü§∑‚Äç‚ôÇÔ∏è</div>
      <h1>Error 404 - P√°gina No Encontrada</h1>
      <p>Lo sentimos, la p√°gina que buscas no existe o ha sido movida.</p>
      <a href="/" class="home-link">‚Üê Volver al Inicio</a>
    </div>
  </div>

  <script>
    // Se integra links.js directamente para evitar race conditions
    const affiliateLinks = {
      // Taladros
      'taladro-bosch-psb-1800': { url: 'https://amzn.to/43QtE0J', name: 'Taladro Bosch PSB 1800' },
      'taladro-black-decker-bdcdd12': { url: 'https://amzn.to/3ZxY4mN', name: 'Taladro Black+Decker BDCDD12' },
      'taladro-makita-hp333d': { url: 'https://amzn.to/4aB5cD6', name: 'Taladro Makita HP333D' },
      
      // Sierras de Calar
      'sierra-calar-bosch-pst700': { url: 'https://amzn.to/3A1bC2d', name: 'Sierra de Calar Bosch PST 700 E' },
      'sierra-calar-black-decker-ks701': { url: 'https://amzn.to/4eF7gH8', name: 'Sierra de Calar Black+Decker KS701' },
      'sierra-calar-makita-4329k': { url: 'https://amzn.to/3I9jK0l', name: 'Sierra de Calar Makita 4329K' },
      
      // Martillos
      'martillo-stanley-stht0-51907': { url: 'https://amzn.to/4mN2oP3', name: 'Martillo Stanley STHT0-51907' },
      'martillo-bahco-428-16': { url: 'https://amzn.to/3Q4rS5t', name: 'Martillo de u√±a Bahco 428-16' },
      
      // Destornilladores
      'destornillador-wera-kraftform': { url: 'https://amzn.to/4uV6wX7', name: 'Juego de destornilladores Wera Kraftform' },
      'destornillador-stanley-fatmax': { url: 'https://amzn.to/3Y8zA9b', name: 'Destornillador Stanley FatMax' },
      
      // Llaves
      'llave-inglesa-bahco-8072': { url: 'https://amzn.to/4cD1eF2', name: 'Llave Inglesa Bahco 8072' },
      'llaves-fijas-set-stanley': { url: 'https://amzn.to/3G3hI4j', name: 'Set de Llaves Fijas Stanley' },
      
      // Niveles y Medici√≥n
      'nivel-stanley-classic': { url: 'https://amzn.to/4kL5mN6', name: 'Nivel de Burbuja Stanley Classic' },
      'metro-stanley-powerlock': { url: 'https://amzn.to/3O7pQ8r', name: 'Flex√≥metro Stanley Powerlock' },
      
      // Alicates y Tenazas
      'alicates-knipex-0302180': { url: 'https://amzn.to/4sT9uV0', name: 'Alicates Universales Knipex' },
      'tenazas-stanley-84-648': { url: 'https://amzn.to/3W1xY2z', name: 'Tenaza Grip Stanley' },
      
      // Herramientas de Jard√≠n
      'tijeras-poda-felco-2': { url: 'https://amzn.to/4A3bC4d', name: 'Tijeras de Poda Felco 2' },
      'manguera-gardena-18025': { url: 'https://amzn.to/3E5fG6h', name: 'Manguera Gardena' },
      
      // Herramientas de Ba√±o
      'ventosa-desatascador-ridgid': { url: 'https://amzn.to/4I7jK8l', name: 'Desatascador de Ventosa RIDGID' },
      'llave-grifa-rothenberger': { url: 'https://amzn.to/3M9nO0p', name: 'Llave Grifa Rothenberger' },
      
      // Herramientas de Cocina
      'afilador-cuchillos-chef': { url: 'https://amzn.to/4Q1rS2t', name: 'Afilador de Cuchillos Profesional' },
      'bascula-cocina-tefal': { url: 'https://amzn.to/3U3vW4x', name: 'B√°scula de Cocina Tefal' },
      
      // Aires Acondicionados
      'aire-acondicionado-daitsu-asd12': { url: 'https://amzn.to/4Y5zA6b', name: 'Aire Acondicionado Daitsu ASD12' },
      'aire-portatil-olimpia-dolceclima': { url: 'https://amzn.to/3C7dE8f', name: 'Aire Port√°til Olimpia Splendid Dolceclima' },
      
      // Robots Aspirador
      'robot-aspirador-roomba-692': { url: 'https://amzn.to/4G9hI0j', name: 'Robot Aspirador iRobot Roomba 692' },
      'robot-aspirador-cecotec-conga': { url: 'https://amzn.to/3K1lM2n', name: 'Robot Aspirador Cecotec Conga' },
      
      // Ventiladores de Techo
      'ventilador-techo-faro-mini-ufo': { url: 'https://amzn.to/4O3pQ4r', name: 'Ventilador de Techo Faro Mini Ufo' },
      'ventilador-techo-westinghouse': { url: 'https://amzn.to/3S5tU6v', name: 'Ventilador de Techo Westinghouse' },
      
      // Mantenimiento Piscina
      'limpiafondos-zodiac-mx6': { url: 'https://amzn.to/4W7xY8z', name: 'Limpiafondos Hidr√°ulico Zodiac MX6' },
      'kit-analisis-agua-bayrol': { url: 'https://amzn.to/3A9bC0d', name: 'Kit An√°lisis Agua Piscina Bayrol' },
      
      // C√©sped Artificial
      'cesped-artificial-20mm': { url: 'https://amzn.to/4dYJfQj', name: 'C√©sped Artificial 20mm' },
      'cola-cesped-artificial-6750kg': { url: 'https://amzn.to/4kQUYmo', name: 'Cola para C√©sped Artificial 6.750kg' },
      'cola-cesped-artificial-2250kg': { url: 'https://amzn.to/4jYRKwo', name: 'Cola para C√©sped Artificial 2.250kg' },
      'banda-union-cesped': { url: 'https://amzn.to/4e25wgm', name: 'Banda de Uni√≥n para C√©sped' },
      'espatula-dentada-cola': { url: 'https://amzn.to/45dIiS1', name: 'Esp√°tula Dentada para Cola' },
      'cuter-profesional': { url: 'https://amzn.to/43ZvVa1', name: 'C√∫ter Profesional' },
      'guantes-trabajo-cesped': { url: 'https://amzn.to/449Qkdx', name: 'Guantes de Trabajo' },
      
      // Herramientas Esenciales
      'kit-herramientas-basico-stanley': { url: 'https://amzn.to/4E1fG2h', name: 'Kit B√°sico de Herramientas Stanley' },
      'caja-herramientas-keter': { url: 'https://amzn.to/3I3jK4l', name: 'Caja de Herramientas Keter' },
      
      // Herramientas Baratas
      'taladro-economico-tacklife': { url: 'https://amzn.to/4M5nO6p', name: 'Taladro Econ√≥mico Tacklife' },
      'sierra-manual-bahco-2600': { url: 'https://amzn.to/3Q7rS8t', name: 'Sierra de Mano Bahco 2600' }
    };

    (function() {
      const path = window.location.pathname;
      const goSegment = '/go/';
      const pathSegments = path.split(goSegment);

      if (pathSegments.length > 1) {
        const productId = pathSegments.pop().replace(/\/$/, '');
        
        if (productId && affiliateLinks[productId]) {
          const link = affiliateLinks[productId];
          
          document.getElementById('product-name').textContent = link.name;
          document.getElementById('redirect-display').style.display = 'block';
          
          if (typeof gtag !== 'undefined') {
            gtag('event', 'affiliate_redirect', {
              'product_id': productId,
              'product_name': link.name,
              'affiliate_url': link.url,
              'event_category': 'Affiliate'
            });
          }
          
          setTimeout(() => {
            window.location.href = link.url;
          }, 1500);
          
        } else {
          showNotFound(`El producto con ID "${productId}" no fue encontrado.`);
        }
      } else {
        showNotFound('La p√°gina que buscas no existe o ha sido movida.');
      }
      
      function showNotFound(message) {
        document.title = '404 - P√°gina No Encontrada';
        const notFoundDisplay = document.getElementById('not-found-display');
        
        const errorMessageElement = notFoundDisplay.querySelector('p');
        if (errorMessageElement) {
            errorMessageElement.textContent = message;
        }

        notFoundDisplay.style.display = 'block';
        
        if (typeof gtag !== 'undefined') {
          gtag('event', '404_not_found', {
            'path': path,
            'event_category': 'Error'
          });
        }
      }
    })();
  </script>

</body>
</html> 